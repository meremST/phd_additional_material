<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="732px" preserveAspectRatio="none" style="width:627px;height:732px;" version="1.1" viewBox="0 0 627 732" width="627px" zoomAndPan="magnify"><defs><filter height="300%" id="f17j475efzod1d" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f17j475efzod1d)" height="157.7969" style="stroke:#000000;stroke-width:2.0;" width="468" x="8" y="100.2969"/><rect fill="#FFFFFF" filter="url(#f17j475efzod1d)" height="197.0625" style="stroke:#000000;stroke-width:2.0;" width="484" x="129" y="304.2266"/><rect fill="#FFFFFF" filter="url(#f17j475efzod1d)" height="110.6641" style="stroke:#000000;stroke-width:2.0;" width="225" x="342" y="514.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="24" x2="24" y1="88.2969" y2="643.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="145" x2="145" y1="88.2969" y2="643.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="254" x2="254" y1="88.2969" y2="643.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="358" x2="358" y1="88.2969" y2="643.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="460" x2="460" y1="88.2969" y2="643.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="597" x2="597" y1="88.2969" y2="643.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="5" y="84.9951">Alice</text><ellipse cx="24" cy="15" fill="#FEFECE" filter="url(#f17j475efzod1d)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M24,23 L24,50 M11,31 L37,31 M24,50 L11,65 M24,50 L37,65 " fill="none" filter="url(#f17j475efzod1d)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f17j475efzod1d)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="97" x="94.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="101.5" y="72.9951">Alice's node</text><rect fill="#FEFECE" filter="url(#f17j475efzod1d)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="89" x="209.5" y="49"/><rect fill="#FEFECE" filter="url(#f17j475efzod1d)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="89" x="205.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="212.5" y="72.9951">Blockchain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="341" y="84.9951">SoC</text><ellipse cx="358" cy="15" fill="#FEFECE" filter="url(#f17j475efzod1d)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M358,23 L358,50 M345,31 L371,31 M358,50 L345,65 M358,50 L371,65 " fill="none" filter="url(#f17j475efzod1d)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f17j475efzod1d)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="93" x="411.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="418.5" y="72.9951">Bob's node</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="580" y="84.9951">Bob</text><ellipse cx="597" cy="15" fill="#FEFECE" filter="url(#f17j475efzod1d)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M597,23 L597,50 M584,31 L610,31 M597,50 L584,65 M597,50 L610,65 " fill="none" filter="url(#f17j475efzod1d)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="5" y="723.9482">Alice</text><ellipse cx="24" cy="653.9531" fill="#FEFECE" filter="url(#f17j475efzod1d)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M24,661.9531 L24,688.9531 M11,669.9531 L37,669.9531 M24,688.9531 L11,703.9531 M24,688.9531 L37,703.9531 " fill="none" filter="url(#f17j475efzod1d)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f17j475efzod1d)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="97" x="94.5" y="643.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="101.5" y="663.9482">Alice's node</text><rect fill="#FEFECE" filter="url(#f17j475efzod1d)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="89" x="209.5" y="643.9531"/><rect fill="#FEFECE" filter="url(#f17j475efzod1d)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="89" x="205.5" y="647.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="212.5" y="667.9482">Blockchain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="341" y="723.9482">SoC</text><ellipse cx="358" cy="653.9531" fill="#FEFECE" filter="url(#f17j475efzod1d)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M358,661.9531 L358,688.9531 M345,669.9531 L371,669.9531 M358,688.9531 L345,703.9531 M358,688.9531 L371,703.9531 " fill="none" filter="url(#f17j475efzod1d)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f17j475efzod1d)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="93" x="411.5" y="643.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="418.5" y="663.9482">Bob's node</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="580" y="723.9482">Bob</text><ellipse cx="597" cy="653.9531" fill="#FEFECE" filter="url(#f17j475efzod1d)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M597,661.9531 L597,688.9531 M584,669.9531 L610,669.9531 M597,688.9531 L584,703.9531 M597,688.9531 L610,703.9531 " fill="none" filter="url(#f17j475efzod1d)" style="stroke:#A80036;stroke-width:2.0;"/><path d="M8,100.2969 L193,100.2969 L193,107.2969 L183,117.2969 L8,117.2969 L8,100.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="157.7969" style="stroke:#000000;stroke-width:2.0;" width="468" x="8" y="100.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="23" y="113.3638">Registration Phase</text><polygon fill="#FBFB77" filter="url(#f17j475efzod1d)" points="305,127.4297,411,127.4297,421,138.4297,411,150.4297,305,150.4297,295,138.4297,305,127.4297" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="307" y="143.4966">At Alice location</text><polygon fill="#A80036" points="346,172.6953,356,176.6953,346,180.6953,350,176.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="352" y1="176.6953" y2="176.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="31" y="171.6294">Provision SoC</text><polygon fill="#A80036" points="133,216.9609,143,220.9609,133,224.9609,137,220.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="139" y1="220.9609" y2="220.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="31" y="200.7622">Register device</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="31" y="215.895">info</text><polygon fill="#A80036" points="242,246.0938,252,250.0938,242,254.0938,246,250.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="145" x2="248" y1="250.0938" y2="250.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="152" y="245.0278">Broadcast</text><polygon fill="#A80036" points="448,246.0938,458,250.0938,448,254.0938,452,250.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="254" x2="454" y1="250.0938" y2="250.0938"/><polygon fill="#FBFB77" filter="url(#f17j475efzod1d)" points="307.5,272.0938,408.5,272.0938,418.5,283.0938,408.5,295.0938,307.5,295.0938,297.5,283.0938,307.5,272.0938" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="309.5" y="288.1606">At Bob location</text><path d="M129,304.2266 L354,304.2266 L354,311.2266 L344,321.2266 L129,321.2266 L129,304.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="197.0625" style="stroke:#000000;stroke-width:2.0;" width="484" x="129" y="304.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="144" y="317.2935">Upgrade Request Phase</text><polygon fill="#A80036" points="471,358.625,461,362.625,471,366.625,467,362.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="465" x2="596" y1="362.625" y2="362.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="477" y="342.4263">Get price</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="477" y="357.5591">and config list</text><polygon fill="#A80036" points="585,358.625,595,362.625,585,366.625,589,362.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460" x2="591" y1="362.625" y2="362.625"/><polygon fill="#A80036" points="471,402.8906,461,406.8906,471,410.8906,467,406.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="465" x2="596" y1="406.8906" y2="406.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="477" y="386.6919">Request upgrade,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="477" y="401.8247">send payment</text><polygon fill="#A80036" points="265,432.0234,255,436.0234,265,440.0234,261,436.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="259" x2="459" y1="436.0234" y2="436.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="271" y="430.9575">Broadcast</text><polygon fill="#A80036" points="156,432.0234,146,436.0234,156,440.0234,152,436.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="150" x2="253" y1="436.0234" y2="436.0234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="254" x2="296" y1="480.2891" y2="480.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="296" x2="296" y1="480.2891" y2="493.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="255" x2="296" y1="493.2891" y2="493.2891"/><polygon fill="#A80036" points="265,489.2891,255,493.2891,265,497.2891,261,493.2891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="261" y="460.0903">Contract term</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="261" y="475.2231">execution</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460" x2="502" y1="480.2891" y2="480.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="502" x2="502" y1="480.2891" y2="493.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="461" x2="502" y1="493.2891" y2="493.2891"/><polygon fill="#A80036" points="471,489.2891,461,493.2891,471,497.2891,467,493.2891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="467" y="460.0903">Contract term</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="467" y="475.2231">execution</text><path d="M342,514.2891 L551,514.2891 L551,521.2891 L541,531.2891 L342,531.2891 L342,514.2891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="110.6641" style="stroke:#000000;stroke-width:2.0;" width="225" x="342" y="514.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="164" x="357" y="527.356">Data Reception Phase</text><polygon fill="#A80036" points="448,568.6875,458,572.6875,448,576.6875,452,572.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="358" x2="454" y1="572.6875" y2="572.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="365" y="552.4888">Query latest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="365" y="567.6216">config</text><polygon fill="#A80036" points="369,612.9531,359,616.9531,369,620.9531,365,616.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="363" x2="459" y1="616.9531" y2="616.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="375" y="596.7544">Send config</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="375" y="611.8872">as response</text><!--MD5=[a9c3260400bbc521adf8d62d63c7190c]
@startuml
!pragma teoz true
actor Alice as "Alice"
participant Alice_node as "Alice's node"
collections Blockchain as "Blockchain"
actor SoC as "SoC"
participant Bob_node as "Bob's node"
actor Bob as "Bob"
Group Registration Phase
hnote over SoC: At Alice location
Alice -> SoC : Provision SoC
Alice -> Alice_node: Register device\ninfo
' with ownership info,\nlist of config, price
Alice_node -> Blockchain: Broadcast
& Blockchain -> Bob_node
end
hnote over SoC: At Bob location
group Upgrade Request Phase
Bob - -> Bob_node: Get price\nand config list
& Bob_node - -> Bob
Bob -> Bob_node: Request upgrade,\nsend payment
Bob_node -> Blockchain: Broadcast
& Blockchain -> Alice_node
Blockchain - -> Blockchain: Contract term\nexecution
& Bob_node - -> Bob_node: Contract term\nexecution
end
group Data Reception Phase
SoC -> Bob_node : Query latest\nconfig
Bob_node - -> SoC: Send config\nas response
end
@enduml

@startuml
!pragma teoz true
actor Alice as "Alice"
participant Alice_node as "Alice's node"
collections Blockchain as "Blockchain"
actor SoC as "SoC"
participant Bob_node as "Bob's node"
actor Bob as "Bob"
Group Registration Phase
hnote over SoC: At Alice location
Alice -> SoC : Provision SoC
Alice -> Alice_node: Register device\ninfo
Alice_node -> Blockchain: Broadcast
& Blockchain -> Bob_node
end
hnote over SoC: At Bob location
group Upgrade Request Phase
Bob - -> Bob_node: Get price\nand config list
& Bob_node - -> Bob
Bob -> Bob_node: Request upgrade,\nsend payment
Bob_node -> Blockchain: Broadcast
& Blockchain -> Alice_node
Blockchain - -> Blockchain: Contract term\nexecution
& Bob_node - -> Bob_node: Contract term\nexecution
end
group Data Reception Phase
SoC -> Bob_node : Query latest\nconfig
Bob_node - -> SoC: Send config\nas response
end
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>